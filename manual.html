<!-- See the file js/editor.js for the version number of this software, its license etc -->
<h3>Dokumentation für den Editor</h3>

<p>Der XML-Editor ermöglicht es, eine XML-Datei für Programmieraufgaben neu zu erstellen
(einschließlich einer Problem-Datei für LON-CAPA). Außerdem kann eine XML-Datei
im entsprechenden Format eingelesen, um gewünschte Tests oder
zusätzliche Dateien erweitert und wieder exportiert werden.
Das XML-Format muss dem <a href="https://github.com/ProFormA/taskxml">
Standard für den Austausch von Programmieraufgaben
entsprechen</a>.</p>

<h3>Erstellen einer neuen Aufgabe</h3>

<p>Zunächst werden unter dem Main-Reiter 
<span class="red">(1)</span> der Aufgabentext (Description), der Titel der
Aufgabe, die Programmiersprache, die maximale Dateigröße der studentischen
Einreichung und der Dateityp (als MimeType) eingegeben. Der LON-CAPA-Pfad
muss geändert werden, so dass er den Benutzernamen und eventuell die
Namen der Unterordner enthält.</p>

<p>Wichtig ist im gesamten Formular: Alle mit einem roten Stern (*) gekennzeichneten 
Felder müssen ausgefüllt sein, damit eine Aufgabe exportiert werden kann.</p>

<p><img alt="doku1" src="images/doku1.png" /></p>

<p>Hinter dem Files-and-Model-Solution-Reiter <span class="red">(2)</span>
befindet sich der Code der jeweiligen Tests sowie 
der Code für die Musterlösung(en). 
Mittels des Add-file-Knopfs können weitere Dateien hinzugefügt werden.

Hinter dem Tests-Reiter <span class="red">(3)</span> befinden sich die Tests, z.B. JUnit oder Compiler Tests.
Nach Erzeugung eines neuen Tests, einer neuen Datei oder Musterlösung
schaltet der Editor jeweils auf den entsprechenden Reiter um.

<p>Für Dateien gilt:
Jede Datei muss einen Namen und eine 
entsprechende Endung (z.B. &bdquo;.java&ldquo;) erhalten. 
Es kann festgelegt werden, ob Dateien bei 
der späteren Nutzung für die Studierenden sichtbar (library) oder unsichtbar 
(internal, internal-library) sind, als Code-Template (template) bereitgestellt werden
oder weitere Details zur Aufgabenstellung (instruction) enthalten.
Dateien beinhalten zumeist Tests, zum Beispiel Unittests, Blackbox Tests oder
statische Tests. Außerdem muss mindestens eine Datei mit der zu 
erwartenden Musterlösung beigefügt werden. Der Zweck jeder Datei wird
dadurch angegeben, dass sie mit einem Test oder einer Musterlösung verknüpft wird.
Die Verbindung zwischen
der Datei und ihrem Zweck erfolgt über den Dateinamen.</p>

<p>Für Tests gilt:
Innerhalb der Testfelder 
gibt es mehrere einstellbare Optionen. Es kann festgelegt werden, ob ein 
Testergebnis für Studierende sichtbar (public) ist oder nicht. Die Auswahl
&bdquo;required&ldquo; legt fest, ob ein Test bestanden werden muss, um eine Aufgabe zu 
bestehen oder nicht.
Anhand der verschiedenen Knöpfe auf der rechten Seite
<span class="red">(4)</span> können weitere Tests hinzugefügt werden.</p>

<h3>Exportieren und Zippen</h3>

<p>Sobald alle gewünschten Dateien und Tests hinzugefügt wurden, kann 
die Datei exportiert werden. Dazu wird der Create-XML-File-Knopf <span class="red">(5)</span> verwendet. 
Danach erscheint die Aufgabe als direkt nutzbare XML-Datei im Feld <span class="red">(7)</span>.
Außerdem erscheint darunter im Feld <span class="red">(8)</span> die Problem-Datei im LON-CAPA-Format.
Wenn es gewünscht wird, kann der XML-Code auch als ZIP exportiert 
werden, welche direkt in LON-CAPA hochgeladen werden kann.
Dazu muss lediglich der Download-as-zip-Knopf <span class="red">(9)</span> verwendet werden.</p>

<p><img alt="doku3" src="images/doku3.png" /></p>

<h3>Importieren einer bestehenden XML-Datei</h3>

<p>Eine XML-Datei oder eine Zip-Datei, welche eine task.xml enthält, können 
auch zu Bearbeitungszwecken eingelesen
werden. Dazu wird über den Knopf <span class="red">(10)</span> eine Datei gesucht und hochgeladen oder
mit Copy/Paste direkt in das Feld <span class="red">(7)</span> eingefügt.
Danach wird der Read-XML-file-Knopf <span class="red">(6)</span>
verwendet, um die Datei in das Formular einzulesen. 
Die Aufgabe kann nun wie oben beschrieben verändert und auch wieder exportiert
werden.</p>

<h3>Einbinden in LON-CAPA</h3>

<p>Wie bereits erwähnt, kann die generierte ZIP-Datei in LON-CAPA
hochgeladen werden. In LON-CAPA muss dazu
eine neue Aufgabe ohne vorgegebenen Inhalt erstellt werden. 
Der Inhalt aus Feld <span class="red">(8)</span> (d.h. die LON-CAPA-Problem-Datei) 
wird in die leere Aufgabe eingefügt. 
Hierbei muss allerdings beachtet werden, dass der in der LON-CAPA-Problem-Datei
angegebene Pfad (welcher im Main-Bereich unter <span class="red">(11)</span> eingestellt wurde) auch
mit dem Ort übereinstimmt, an dem die ZIP-Datei gespeichert wurde.
Zuletzt sei noch zu beachten, dass die ZIP-Datei 
auch schon beim Testen der Aufgabe veröffentlicht werden muss, 
da diese sonst nicht verarbeitet wird.</p>


